"use strict";(self["webpackChunkbloid_client"]=self["webpackChunkbloid_client"]||[]).push([[724],{2724:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[e._v(" Crud link "),s("b-row",[s("vue-tags-input",{staticClass:"col",attrs:{placeholder:"subjects",tags:e.subjectTags,"autocomplete-items":e.filteredSubjects},on:{"tags-changed":function(t){return e.subjectTags=t}},model:{value:e.subjectTag,callback:function(t){e.subjectTag=t},expression:"subjectTag"}}),s("vue-tags-input",{staticClass:"col",attrs:{placeholder:"links",tags:e.predicateTags,"autocomplete-items":e.filteredPredicates},on:{"tags-changed":function(t){return e.predicateTags=t}},model:{value:e.predicateTag,callback:function(t){e.predicateTag=t},expression:"predicateTag"}}),s("vue-tags-input",{staticClass:"col",attrs:{placeholder:"objects",tags:e.objectTags,"autocomplete-items":e.filteredObjects},on:{"tags-changed":function(t){return e.objectTags=t}},model:{value:e.objectTag,callback:function(t){e.objectTag=t},expression:"objectTag"}})],1),s("b-button",{attrs:{size:"sm",variant:"primary",disabled:0==e.subjectTags.length||0==e.predicateTags.length||0==e.objectTags.length},on:{click:e.createLinks}},[e._v("Create links")])],1)},i=[],c=s(9267),o=s.n(c),n={name:"CrudLink",components:{VueTagsInput:o()},data(){return{subjectTag:"",predicateTag:"",objectTag:"",subjectTags:[],predicateTags:[],objectTags:[]}},methods:{createLinks(){console.log(this.subjectTags,this.predicateTags,this.objectTags);let e=[];this.subjectTags.forEach((t=>{this.predicateTags.forEach((s=>{this.objectTags.forEach((a=>{console.log(t,s,a);let i={source:t["@id"]||t.text,label:s["@id"]||s.text,target:a["@id"]||a.text};e.push(i),this.$store.commit("graph/addLink",i)}))}))}));let t={action:"addLinks",subjects:this.subjectTags,predicates:this.predicateTags,objects:this.objectTags};this.$io_ld_crud(t),console.log("todo ajout DB"),this.subjectTags=[],this.predicateTags=[],this.objectTags=[]}},computed:{filteredSubjects(){let e=this.nodes.filter((e=>(void 0==e.name&&console.log("todo i.name undefined",e),void 0==e.name&&(e.name=e.text),-1!==e.name.toLowerCase().indexOf(this.subjectTag.toLowerCase()))));return e.map((e=>({text:e.name,"@id":e["@id"]})))},filteredObjects(){let e=this.nodes.filter((e=>(void 0==e.name&&console.log("todo i.name undefined",e),void 0==e.name&&(e.name=e.text),-1!==e.name.toLowerCase().indexOf(this.objectTag.toLowerCase()))));return e.map((e=>({text:e.name,"@id":e["@id"]})))},filteredPredicates(){return[]},nodes(){return this.$store.state.graph.nodes},links(){return this.$store.state.graph.links}}},r=n,l=s(1001),d=(0,l.Z)(r,a,i,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=724.e337b769.js.map