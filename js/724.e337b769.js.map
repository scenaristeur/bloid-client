{"version":3,"file":"js/724.e337b769.js","mappings":"oKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACJ,EAAIM,GAAG,eAAeF,EAAG,QAAQ,CAACA,EAAG,iBAAiB,CAACG,YAAY,MAAMC,MAAM,CAAC,YAAc,WAAW,KAAOR,EAAIS,YAAY,qBAAqBT,EAAIU,kBAAkBC,GAAG,CAAC,eAAe,SAAUC,GAAW,OAAOZ,EAAIS,YAAcG,IAAYC,MAAM,CAACC,MAAOd,EAAc,WAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,WAAWD,GAAKE,WAAW,gBAAgBd,EAAG,iBAAiB,CAACG,YAAY,MAAMC,MAAM,CAAC,YAAc,QAAQ,KAAOR,EAAImB,cAAc,qBAAqBnB,EAAIoB,oBAAoBT,GAAG,CAAC,eAAe,SAAUC,GAAW,OAAOZ,EAAImB,cAAgBP,IAAYC,MAAM,CAACC,MAAOd,EAAgB,aAAEe,SAAS,SAAUC,GAAMhB,EAAIqB,aAAaL,GAAKE,WAAW,kBAAkBd,EAAG,iBAAiB,CAACG,YAAY,MAAMC,MAAM,CAAC,YAAc,UAAU,KAAOR,EAAIsB,WAAW,qBAAqBtB,EAAIuB,iBAAiBZ,GAAG,CAAC,eAAe,SAAUC,GAAW,OAAOZ,EAAIsB,WAAaV,IAAYC,MAAM,CAACC,MAAOd,EAAa,UAAEe,SAAS,SAAUC,GAAMhB,EAAIwB,UAAUR,GAAKE,WAAW,gBAAgB,GAAGd,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,KAAK,QAAU,UAAU,SAAmC,GAAxBR,EAAIS,YAAYgB,QAAuC,GAA1BzB,EAAImB,cAAcM,QAAoC,GAAvBzB,EAAIsB,WAAWG,QAAWd,GAAG,CAAC,MAAQX,EAAI0B,cAAc,CAAC1B,EAAIM,GAAG,mBAAmB,IAC1xCqB,EAAkB,G,mBC0DtB,GACAC,KAAAA,WACAC,WAAAA,CACAC,aAAAA,KAEAC,OACA,OACAd,WAAAA,GACAI,aAAAA,GACAG,UAAAA,GACAf,YAAAA,GACAU,cAAAA,GACAG,WAAAA,KAGAU,QAAAA,CACAN,cAEAO,QAAAA,IAAAA,KAAAA,YAAAA,KAAAA,cAAAA,KAAAA,YACA,SACA,8BAEA,gCACA,6BACAA,QAAAA,IAAAA,EAAAA,EAAAA,GACA,OAAAC,OAAAA,EAAAA,QAAAA,EAAAA,KAAAC,MAAAA,EAAAA,QAAAA,EAAAA,KAAAC,OAAAA,EAAAA,QAAAA,EAAAA,MACAC,EAAAA,KAAAA,GAEA,+CAMA,OAAAC,OAAAA,WAAAC,SAAAA,KAAAA,YAAAC,WAAAA,KAAAA,cAAAC,QAAAA,KAAAA,YAEA,oBAMAR,QAAAA,IAAAA,iBACA,oBACA,sBACA,qBAOAS,SAAAA,CACAhC,mBACA,kCACAiC,GAAAA,EAAAA,MAAAA,QAAAA,IAAAA,wBAAAA,QACAA,GAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,OACA,mEAEA,mBAAAC,KAAAA,EAAAA,KAAA,oBAEArB,kBACA,kCACAoB,GAAAA,EAAAA,MAAAA,QAAAA,IAAAA,wBAAAA,QACAA,GAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,OACA,kEAEA,mBAAAC,KAAAA,EAAAA,KAAA,oBAEAxB,qBACA,UAQAyB,QACA,sCAEAR,QACA,wCC7I6Q,I,UCOzQS,GAAY,OACd,EACA/C,EACA4B,GACA,EACA,KACA,KACA,MAIF,EAAemB,EAAiB","sources":["webpack://bloid-client/./src/views/crud/CrudLink.vue?cbfa","webpack://bloid-client/src/views/crud/CrudLink.vue","webpack://bloid-client/./src/views/crud/CrudLink.vue?cb19","webpack://bloid-client/./src/views/crud/CrudLink.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_vm._v(\" Crud link \"),_c('b-row',[_c('vue-tags-input',{staticClass:\"col\",attrs:{\"placeholder\":\"subjects\",\"tags\":_vm.subjectTags,\"autocomplete-items\":_vm.filteredSubjects},on:{\"tags-changed\":function (newTags) { return _vm.subjectTags = newTags; }},model:{value:(_vm.subjectTag),callback:function ($$v) {_vm.subjectTag=$$v},expression:\"subjectTag\"}}),_c('vue-tags-input',{staticClass:\"col\",attrs:{\"placeholder\":\"links\",\"tags\":_vm.predicateTags,\"autocomplete-items\":_vm.filteredPredicates},on:{\"tags-changed\":function (newTags) { return _vm.predicateTags = newTags; }},model:{value:(_vm.predicateTag),callback:function ($$v) {_vm.predicateTag=$$v},expression:\"predicateTag\"}}),_c('vue-tags-input',{staticClass:\"col\",attrs:{\"placeholder\":\"objects\",\"tags\":_vm.objectTags,\"autocomplete-items\":_vm.filteredObjects},on:{\"tags-changed\":function (newTags) { return _vm.objectTags = newTags; }},model:{value:(_vm.objectTag),callback:function ($$v) {_vm.objectTag=$$v},expression:\"objectTag\"}})],1),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"primary\",\"disabled\":_vm.subjectTags.length==0 || _vm.predicateTags.length==0 || _vm.objectTags.length==0},on:{\"click\":_vm.createLinks}},[_vm._v(\"Create links\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container>\n    Crud link\n\n    <b-row>\n      <vue-tags-input\n      class=\"col\"\n      placeholder=\"subjects\"\n      v-model=\"subjectTag\"\n      :tags=\"subjectTags\"\n      :autocomplete-items=\"filteredSubjects\"\n      @tags-changed=\"newTags => subjectTags = newTags\"\n      />\n\n      <vue-tags-input\n      class=\"col\"\n      placeholder=\"links\"\n      v-model=\"predicateTag\"\n      :tags=\"predicateTags\"\n      :autocomplete-items=\"filteredPredicates\"\n      @tags-changed=\"newTags => predicateTags = newTags\"\n      />\n\n\n      <vue-tags-input\n      class=\"col\"\n      placeholder=\"objects\"\n      v-model=\"objectTag\"\n      :tags=\"objectTags\"\n      :autocomplete-items=\"filteredObjects\"\n      @tags-changed=\"newTags => objectTags = newTags\"\n      />\n\n    </b-row>\n    <b-button\n    @click=\"createLinks\"\n    size=\"sm\"\n    variant=\"primary\"\n    :disabled=\"subjectTags.length==0 || predicateTags.length==0 || objectTags.length==0 \"\n    >Create links</b-button>\n    <!-- <br>\n    s: {{filteredSubjects}}\n    <hr>\n    p: {{filteredPredicates}}\n    <hr>\n    o: {{filteredObjects}}\n    <hr>\n    {{links}}\n    <hr>\n    {{nodes}} -->\n\n\n  </b-container>\n</template>\n\n<script>\nimport VueTagsInput from '@johmun/vue-tags-input';\n\n\nexport default {\n  name: 'CrudLink',\n  components: {\n    VueTagsInput,\n  },\n  data() {\n    return {\n      subjectTag: '',\n      predicateTag: '',\n      objectTag: '',\n      subjectTags: [],\n      predicateTags: [],\n      objectTags: [],\n    };\n  },\n  methods:{\n    createLinks(){\n\n      console.log(this.subjectTags, this.predicateTags, this.objectTags)\n      let links= []\n      this.subjectTags.forEach((subject) => {\n\n        this.predicateTags.forEach((predicate) => {\n          this.objectTags.forEach((object) => {\n            console.log(subject,predicate, object)\n            let l = {source: subject['@id'] || subject.text, label: predicate['@id'] || predicate.text, target: object['@id'] || object.text}\n            links.push(l)\n            // ajout graphData\n            this.$store.commit('graph/addLink', l)\n          });\n        });\n      });\n      //  console.log(links)\n\n      let params = {action: \"addLinks\", subjects: this.subjectTags, predicates: this.predicateTags, objects: this.objectTags}\n\n      this.$io_ld_crud(params)\n\n\n      //links = links.concat(this.links)\n\n      //todo ajout db\n      console.log(\"todo ajout DB\")\n      this.subjectTags =[]\n      this.predicateTags =  []\n      this.objectTags = []\n\n\n\n\n    }\n  },\n  computed: {\n    filteredSubjects() {\n      let filtered = this.nodes.filter(i => {\n        i.name == undefined ?  console.log(\"todo i.name undefined\", i) : \"\"\n        i.name == undefined ? i.name = i.text  : \"\"\n        return i.name.toLowerCase().indexOf(this.subjectTag.toLowerCase()) !== -1\n      });\n      return filtered.map(i => {return {text: i.name, '@id': i['@id']}})\n    },\n    filteredObjects() {\n      let filtered = this.nodes.filter(i => {\n        i.name == undefined ?  console.log(\"todo i.name undefined\", i) : \"\"\n        i.name == undefined ? i.name = i.text  : \"\"\n        return i.name.toLowerCase().indexOf(this.objectTag.toLowerCase()) !== -1\n      });\n      return filtered.map(i => {return {text: i.name, '@id': i['@id']}})\n    },\n    filteredPredicates(){\n      return []\n      // let filtered = this.links.filter(i => {\n      //   console.log(i)\n      //   return i.label.toLowerCase().indexOf(this.predicateTag.toLowerCase()) !== -1;\n      // });\n      //\n      // return filtered.map(i => {return {text: i.label, '@id': i['@id']}})\n    },\n    nodes() {\n      return this.$store.state.graph.nodes\n    },\n    links() {\n      return this.$store.state.graph.links\n    },\n\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CrudLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CrudLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CrudLink.vue?vue&type=template&id=001786e8&\"\nimport script from \"./CrudLink.vue?vue&type=script&lang=js&\"\nexport * from \"./CrudLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","subjectTags","filteredSubjects","on","newTags","model","value","callback","$$v","subjectTag","expression","predicateTags","filteredPredicates","predicateTag","objectTags","filteredObjects","objectTag","length","createLinks","staticRenderFns","name","components","VueTagsInput","data","methods","console","source","label","target","links","action","subjects","predicates","objects","computed","i","text","nodes","component"],"sourceRoot":""}