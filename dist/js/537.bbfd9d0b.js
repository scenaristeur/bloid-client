"use strict";(self["webpackChunkbloid_client"]=self["webpackChunkbloid_client"]||[]).push([[537],{1537:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{attrs:{id:"modal-crudlet",title:"Let",size:"lg","ok-disabled":void 0==t.thing.name||0==t.thing.name.length,"ok-variant":void 0==t.thing.name||0==t.thing.name.length?"secondary":"success"},on:{ok:t.save}},[i("div",{staticClass:"scroll"},[i("b-checkbox",{attrs:{size:"sm",disabled:""}},[t._v("use wikidata")]),t._l(t.thing,(function(e,l){return i("div",{key:l},[l.startsWith("@")?t._e():i("b-row",{staticClass:"my-1"},[i("b-col",{attrs:{sm:"3"}},[i("label",{attrs:{for:"field-"+l}},[t._v(t._s(l))])]),i("b-col",{attrs:{sm:"9"}},[i("b-form-input","name"==l?{attrs:{id:"field-"+l,autofocus:"",state:null!=t.thing[l]&&t.thing[l].length>0,placeholder:"{"+l+"}"},model:{value:t.thing[l],callback:function(e){t.$set(t.thing,l,e)},expression:"thing[k]"}}:{attrs:{id:"field-"+l,placeholder:"{"+l+"}"},model:{value:t.thing[l],callback:function(e){t.$set(t.thing,l,e)},expression:"thing[k]"}})],1)],1)],1)}))],2),i("b-row",{staticClass:"my-1"},[i("b-col",{attrs:{sm:"6"}},[i("b-form-input",{attrs:{id:"add_filed",placeholder:"new field",size:"sm"},model:{value:t.new_field,callback:function(e){t.new_field=e},expression:"new_field"}})],1),i("b-col",{attrs:{sm:"3"}},[i("b-form-input",{attrs:{placeholder:"type",disabled:"",size:"sm"}})],1),i("b-col",{attrs:{sm:"3"}},[i("b-button",{attrs:{disabled:null==t.new_field||0==t.new_field.length,size:"sm",variant:null==t.new_field||0==t.new_field.length?"secondary":"success"},on:{click:t.add}},[t._v("Add field")])],1)],1)],1)},s=[],a=i(905),n={name:"CrudLet",data(){return{thing:{},new_field:null}},watch:{createParams(){let t={"@context":{"@vocab":"https://scenaristeur/github.io/bloid/",name:"https://www.wikidata.org/wiki/Q82799",type:"https://www.wikidata.org/wiki/Q21146257",description:"https://www.wikidata.org/wiki/Q1200750",version:"https://www.wikidata.org/wiki/Q20826013",creator:"https://www.wikidata.org/wiki/Q2500638"},"@id":"{@id}",name:null,type:null,description:null,version:null,creator:null};this.thing=t,this.thing["@id"]="http://local/base/"+(0,a.Z)();let e=this.createParams.array.shift(),i=this.createParams.array;console.log(e,i),1==i.length&&void 0==i[0].split("=")[1]?this.thing.name=i[0]:i.forEach(((t,e)=>{let i=t.split("=");console.log(e,t,i),this.thing[i[0]]=i[1]})),console.log(this.thing)}},methods:{save(){console.log("save ",this.thing);let t={action:"create",thing:this.thing,start:Date.now()};this.$io_ld_crud(t)},add(){this.new_field.length>0&&(void 0==this.thing[this.new_field]?this.thing[this.new_field]="":alert("already exist")),console.log(this.thing),this.new_field=""}},computed:{createParams(){return this.$store.state.crud.createParams}}},o=n,r=i(1001),d=(0,r.Z)(o,l,s,!1,null,null,null),h=d.exports}}]);
//# sourceMappingURL=537.bbfd9d0b.js.map